<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Draggable Div</title>
  <style>
    .draggable {
      width: 150px;
      height: 150px;
      background-color: coral;
      position: absolute;
      top: 50px;
      left: 50px;
      user-select: none;
      /* Prevent text selection */
    }
  </style>
</head>

<body>
  <div class="draggable">Drag me!</div>

  <script>
    // function for draggable element
    const draggable = document.querySelector('.draggable');
    let initialX;
    let offsetX;
    let distanceX = 0;

    draggable.addEventListener('mousedown', function (e) {
      initialX = e.clientX;
      offsetX = draggable.getBoundingClientRect().left;

      function onMouseMove(e) {
        const newX = e.clientX;
        distanceX = newX - initialX;


        // Update the position of .draggable element
        draggable.style.left = `${distanceX + offsetX}px`;

        // Check if resetting is needed
        checkReset();
      }

      function onMouseUp() {
        document.removeEventListener('mousemove', onMouseMove);
        document.removeEventListener('mouseup', onMouseUp);

        // Reset .draggable to initial position when mouse is released
        draggable.style.left = `${offsetX}px`;
      }

      document.addEventListener('mousemove', onMouseMove);
      document.addEventListener('mouseup', onMouseUp);
    });



    // Function to check if resetting is needed
    function checkReset() {
      if (Math.abs(distanceX) > draggable.offsetWidth / 2) {
        // Reset if distanceX exceeds half of its own width
        draggable.style.left = `${offsetX}px`;

        if (distanceX > 0) {
          draggable.style.backgroundColor = 'lightblue';

        } else {
          draggable.style.backgroundColor = 'yellow';
        }
      }
    }
  </script>
</body>

</html>
